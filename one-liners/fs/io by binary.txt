b2h(){ echo $1 | awk 'function human(x){x[1]/=1024; if (x[1]>=1000){ x[2]++; human(x);}}{a[1]=$1; a[2]=0; human(a); print a[1]""substr("kMGTEPYZ",a[2]+1,1)}'| sed 's/\.\([0-9]\{2\}\)[0-9]*/\.\1/';};  printio(){ ps faxwwo pid,cmd | sed -s 's/[\\_\|\|]//g' | awk '{print $1, $2}' | while read pid cmd; do echo "$pid $(awk '/read/||/write/{ttl+=$2}END{print ttl}' /proc/$pid/io 2>/dev/null) $cmd"; done;}; (printio;sleep 1;printio)| awk '{if(pid[$1]==0){pid[$1]=$2}else{print $3,($2-pid[$1])}}' | awk '{sum[$1]+=$2}END{for(bin in sum){print sum[bin], bin}}'  | sort -nk1 | tail -n10 | while read bytes bin; do echo "$(b2h $bytes) $bin"; done | column -t
