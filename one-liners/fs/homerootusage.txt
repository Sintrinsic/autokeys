cb2h () { echo $1 | awk '{xin=$1;if(xin==0){print "0 B";}else{x=(xin<0?-xin:xin);s=(xin<0?-1:1);split("B K M G",type);for(i=5;y < 1;i--){y=x/(2^(10*i));}print (y*s)-(y*s%1) "" type[i+2];};}';}; find */* -maxdepth 1 -uid 0 -ls | awk '{print $7,$11}' | while read size path; do echo "$size $(echo $path | cut -d'/' -f1)"; done | awk '{ttl[$2]+=$1}END{for(usr in ttl){print ttl[usr], usr}}' | sort -n | while read ttl usr; do echo "$(cb2h $ttl) $usr"; done | column -t
