odate=$(date "+%s"); cat ../access-logs/* | awk -F'[[ ]' '{print $5}' | awk -F'[:/]' '{print $2" "$1" "$4":"$5":"$6}' | while read line; do tdate=$(date --date="$line" "+%s"); diff=$(( $tdate - $odate )); [[ $diff -gt 500 ]] && echo $odate" "$diff; odate=$tdate; done | while read fdate secs; do echo "$(date --date=@$fdate "+%d/%b/%Y:%H:%M:%S"): $secs"; done