tail -n 100000 /usr/local/apache/logs/access_log  | awk -F"[ \t\\\[:]+" '{print $4":"$5}' | sort | uniq -c | sort -n | tail -n 10 | awk '{print $2}' | while read line; do echo $line; tail -n 100000 /usr/local/apache/logs/access_log  | grep "$line" | awk '{print $1}' | sort | uniq -c | sort -n | tail -n 10 ; done