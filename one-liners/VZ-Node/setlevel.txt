beans() { if [ -f /proc/user_beancounters ] && [[ "${1}" =~ ^(1|2|3|4|5|6|7|8|9|500|1000|2000|4000|8000)$ ]];then ctid=$(grep -oP '\d+(?=:)' /proc/user_beancounters);echo -en "\nvzctl set ${ctid} ";if [ "${1}" == "1" ];then value=( 1000000:1000000 10485760:10485760 98304:98304 54613:54613 98304:98304 589824:688128 65536:65536 );elif [ "${1}" == "2" ];then value=( 1000000:1000000 23068672:23068672 147456:147456 81920:81920 147456:147456 884736:1032192 98304:98304 );elif [ "${1}" == "3" ];then value=( 1000000:1000000 62914560:62914560 196608:196608 109226:109226 262144:262144 1179648:1376256 131072:131072 );elif [ "${1}" == "4" ];then value=( 1250000:1250000 61865984:61865984 344064:344064 191146:191146 344064:344064 2064384:2408448 229376:229376 );elif [ "${1}" == "5" ];then value=( 1500000:1500000 83886080:83886080 466944:466944 259413:259413 466944:466944 2801664:3268608 311296:311296 );elif [ "${1}" == "6" ];then value=( 1750000:1750000 106954752:106954752 589824:589824 327680:327680 589824:589824 3538944:4128768 393216:393216 );elif [ "${1}" == "7" ];then value=( 2000000:2000000 173015040:173015040 811008:811008 450560:450560 811008:811008 4866048:5677056 540672:540672 );elif [ "${1}" == "8" ];then value=( 2250000:2250000 207618048:207618048 973056:973056 540586:540586 973056:973056 5838336:6811392 648704:648704 );elif [ "${1}" == "9" ];then value=( 2500000:2500000 24127488:24127488 1135360:1135360 630755:630755 1135360:1135360 6812160:7947520 756906:756906 );elif [ "${1}" == "500" ];then value=( 1000000:1000000 26214400:26214400 131072:131072 72817:72817 131072:131072 786432:917504 72817:72817 );elif [ "${1}" == "1000" ];then value=( 1000000:1000000 62914560:62914560 262144:262144 145635:145635 262144:262144 1572864:1835008 145635:145635 );elif [ "${1}" == "2000" ];then value=( 1250000:1250000 125829120:125829120 524288:524288 291271:291271 524288:524288 3145728:3670016 291271:291271 );elif [ "${1}" == "4000" ];then value=( 1500000:1500000 174063616:174063616 1048576:1048576 582542:582542 1048576:1048576 6291456:7340032 582542:582542 );elif [ "${1}" == "8000" ];then value=( 2000000:2000000 251658240:251658240 2097152:2097152 1165084:1165084 2097152:2097152 12582912:14680064 1165084:1165084 );fi;for resource in diskinodes diskspace lockedpages oomguarpages physpages privvmpages vmguarpages;do echo -n "--${resource} ${value[${count}]} ";((count++));done;unset value;unset count;echo -n "--dcachesize 26210000:26210000 --dgramrcvbuf 1048576:1048576 --ioprio 4 --iolimit 80 --iopslimit 180 --kmemsize 104857600:115343360 --numfile 250000:250000 --numflock 10000:10000 --numiptent 2000:2000 --numothersock 768:768 --numproc 600:600 --numpty 30:30 --numsiginfo 256:256 --numtcpsock 800:800 --quotaugidlimit 600 --shmpages 150000 --tcprcvbuf 10485760:20971520 --tcpsndbuf 17203200:27033600 ";[[ "${1}" =~ ^(1|2|3|4|5|6|7|8|9)$ ]] && echo -en "--othersockbuf 5242880:10485760 --quotatime 600 --save\n\n" || echo -en "--othersockbuf 11260800:20971520 --quotatime 300 --save\n\n";else echo -e "\nPlease enter a valid legacy (i.e., 1-9) or Snappy (i.e., 500-8000) VPS container level and ensure you are running this on a VPS container.\n";fi;}; beans 