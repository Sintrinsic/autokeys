suse(){ grep VmSwap /proc/*/status 2>/dev/null | awk -F'[/ \t]+' '{print $3,$5}'| sort -nk2 | awk '$2>0';}; orig=$(suse); while true; do echo "----$(date)----"; echo "$orig $(suse)"| awk '{if($1 in procs){print $1,($2-procs[$1])}else{procs[$1]=$2}}'| awk '$2>0'| sort -nk2 | while read pid size; do usr=$(stat --format="%U" /proc/$pid/status 2>/dev/null); pbin=$(grep -oP "(?<=Name\S).*" /proc/$pid/status 2>/dev/null); [[ $usr && $pbin ]] && echo "$pid $size $usr $pbin"; done; sleep 5; done
