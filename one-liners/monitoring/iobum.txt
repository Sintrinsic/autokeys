b2h(){ echo $1 | awk 'function human(x){x[1]/=1024; if (x[1]>=1000){ x[2]++; human(x);}}{a[1]=$1; a[2]=0; human(a); print a[1]""substr("kMGTEPYZ",a[2]+1,1)}'| sed 's/\.\([0-9]\{2\}\)[0-9]*/\.\1/';};  guio(){ ps aux |  while read user pid rest; do echo "$(awk '/(read|write)_bytes/{ttl+=$2}END{print ttl}' /proc/$pid/io 2>/dev/null) $user"; done | awk '{usrs[$2]+=$1}END{for(u in usrs){print u, usrs[u]}}';}; (guio; sleep 5; guio) | awk '{if(usrs[$1]==0){usrs[$1]=$2}else{print $1, ($2 - usrs[$1])}}' | sort -nk2 | tail -n 10 | while read usr val; do echo "$usr $(b2h $val)"; done | column -t
